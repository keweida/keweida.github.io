(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-709f0d22"],{"663a":function(e,t,n){},"6eca":function(e,t,n){"use strict";var r=n("663a"),a=n.n(r);a.a},"7f7f":function(e,t,n){var r=n("86cc").f,a=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in a||n("9e1e")&&r(a,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"9ed6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("van-nav-bar",{attrs:{title:"登陆"}}),n("van-cell-group",[n("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"手机号",name:"mobile",placeholder:"请输入手机号","error-message":e.errors.first("mobile")},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),n("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"验证码",name:"code",placeholder:"请输入验证码","error-message":e.errors.first("code")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),n("div",{staticClass:"btn-login"},[n("van-button",{attrs:{type:"info",size:"large",loading:e.isLoading,"loading-text":"登陆中..."},on:{click:e.login}},[e._v("登陆")])],1)],1)},a=[],o=(n("96cf"),n("3b8d")),i=n("c24f"),c={data:function(){return{mobile:"18888888886",code:"246810",isLoading:!1}},methods:{setRule:function(){var e={custom:{mobile:{required:"请输入手机号码"},code:{required:"请输入验证码"}}};this.$validator.localize("zh_CN",e)},login:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,t=this.$validator.validate(),!t){e.next=16;break}return e.prev=3,e.next=6,Object(i["e"])({mobile:this.mobile,code:this.code});case 6:n=e.sent,this.$store.commit("setUser",n),this.$router.back(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0);case 14:e.next=17;break;case 16:console.log("error：",t);case 17:this.isLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[3,11]])})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.setRule()}},u=c,s=(n("6eca"),n("2877")),l=Object(s["a"])(u,r,a,!1,null,null,null);t["default"]=l.exports},c24f:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));n("7f7f");var r=n("b775");function a(e){var t=e.mobile,n=e.code;return Object(r["a"])({method:"POST",url:"v1_0/authorizations",data:{mobile:t,code:n}})}function o(e){return Object(r["a"])({method:"POST",url:"/v1_0/user/followings",data:{target:e}})}function i(){return Object(r["a"])({method:"GET",url:"/v1_0/user"})}function c(e){var t=e.name;return Object(r["a"])({method:"PATCH",url:"/v1_0/user/profile",data:{name:t}})}function u(e){var t=e.photo,n=new FormData;return n.append("photo",t),Object(r["a"])({method:"PATCH",url:"/v1_0/user/photo",data:n})}}}]);
//# sourceMappingURL=chunk-709f0d22.a700eec1.js.map